#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Pre-commit: Running quality checks..."

# 1. Linting first (faster feedback)
echo "ğŸ§¹ Step 1/2: Linting..."
pnpm lint

if [ $? -ne 0 ]; then
  echo "âŒ Linting failed! Please fix the errors before committing."
  exit 1
fi

# 2. Build check
echo "ğŸ”¨ Step 2/2: Building..."
pnpm build

if [ $? -ne 0 ]; then
  echo "âŒ Build failed! Please fix the errors before committing."
  exit 1
fi

echo "âœ… All checks passed! Proceeding with commit..."
