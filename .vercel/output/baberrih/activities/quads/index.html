<!DOCTYPE html><html lang="en" data-theme="baberrih-theme" data-astro-cid-sckkx6r4 style="--fontPrimary: &#34;Cormorant Garamond&#34;, sans-serif;--fontSecondary: &#34;Cardo&#34;, serif;--fontMono: &#34;IBM Plex Mono&#34;, monospace;--fontDetail: &#34;Spectral&#34;, serif;--fontPrimaryWeight: 300;--fontSecondaryWeight: 400;--fontMonoWeight: 400;--fontDetailWeight: 400;"> <head><meta charset="UTF-8"><meta name="description" content="Explore the dunes and landscapes around Essaouira on powerful quad bikes. An exciting adventure through varied terrain, perfect for thrill-seekers looking to discover the region's natural beauty."><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Dynamic favicon based on hotel logo --><link rel="icon" type="image/png" sizes="32x32" href="https://hotels.daotomata.io/assets/69f790e6-7ba6-452c-9096-0ea70b377d3e?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&width=32&height=32&quality=90&format=png"><link rel="icon" type="image/png" sizes="16x16" href="https://hotels.daotomata.io/assets/69f790e6-7ba6-452c-9096-0ea70b377d3e?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&width=16&height=16&quality=90&format=png"><link rel="apple-touch-icon" sizes="180x180" href="https://hotels.daotomata.io/assets/69f790e6-7ba6-452c-9096-0ea70b377d3e?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&width=180&height=180&quality=90&format=png"><meta name="generator" content="Astro v5.10.0"><title>Quads - Baberrih Hotel</title><!-- No dynamic CSS needed - DaisyUI handles themes automatically via data-theme --><!-- Dynamic Google Fonts loaded from generated configuration --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300&family=Cardo:wght@400&family=IBM+Plex+Mono:wght@400&family=Spectral:ital,wght@1,400&display=swap" rel="stylesheet"><!-- Google Analytics 4 --><!-- Meta Pixel --><link rel="stylesheet" href="/_astro/style.mZBa0l1M.css"></head> <body class="bg-base-100 min-h-screen" data-astro-cid-sckkx6r4 style="--fontPrimary: &#34;Cormorant Garamond&#34;, sans-serif;--fontSecondary: &#34;Cardo&#34;, serif;--fontMono: &#34;IBM Plex Mono&#34;, monospace;--fontDetail: &#34;Spectral&#34;, serif;--fontPrimaryWeight: 300;--fontSecondaryWeight: 400;--fontMonoWeight: 400;--fontDetailWeight: 400;"> <!-- Navigation --> <!-- DaisyUI Navbar with automatic theme support --><div class="top-0 z-50 sticky bg-base-100 border-b border-base-300 navbar" id="navbar"> <div class="navbar-start"> <!-- Mobile menu button --> <div class="lg:hidden dropdown"> <div tabindex="0" role="button" class="btn btn-ghost" id="mobile-menu-btn" aria-label="Toggle menu"> <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> </div> <ul class="z-[1] bg-base-100 shadow mt-3 p-2 border border-base-300 rounded-box w-52 menu menu-sm dropdown-content"> <li> <a href="/baberrih" class="font-primary text-base-content hover:text-primary"> Home </a> </li><li> <a href="/baberrih/accommodation" class="font-primary text-base-content hover:text-primary"> Accommodation </a> </li><li> <a href="/baberrih/facilities" class="font-primary text-base-content hover:text-primary"> Facilities </a> </li><li> <a href="/baberrih/experiences" class="font-primary text-base-content hover:text-primary"> Experiences </a> </li><li> <a href="/baberrih/restaurant" class="font-primary text-base-content hover:text-primary"> Restaurant </a> </li><li> <a href="/baberrih/contact" class="font-primary text-base-content hover:text-primary"> Contact </a> </li> <li class="mt-2"> <a href="/baberrih/book" class="btn btn-primary btn-sm">
Book Now
</a> </li> </ul> </div> <!-- Logo/Brand --> <a href="/baberrih" class="hover:bg-primary/10 font-primary font-bold text-primary text-xl btn btn-ghost"> <img src="https://hotels.daotomata.io/assets/69f790e6-7ba6-452c-9096-0ea70b377d3e?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&height=40&quality=90" alt="Baberrih Logo" class="w-auto h-8"> </a> </div> <!-- Desktop Navigation --> <div class="hidden lg:flex navbar-center"> <ul class="gap-1 px-1 menu menu-horizontal"> <li> <a href="/baberrih" class="font-primary font-medium text-base-content hover:text-primary hover:bg-primary/5"> Home </a> </li><li> <a href="/baberrih/accommodation" class="font-primary font-medium text-base-content hover:text-primary hover:bg-primary/5"> Accommodation </a> </li><li> <a href="/baberrih/facilities" class="font-primary font-medium text-base-content hover:text-primary hover:bg-primary/5"> Facilities </a> </li><li> <a href="/baberrih/experiences" class="font-primary font-medium text-base-content hover:text-primary hover:bg-primary/5"> Experiences </a> </li><li> <a href="/baberrih/restaurant" class="font-primary font-medium text-base-content hover:text-primary hover:bg-primary/5"> Restaurant </a> </li><li> <a href="/baberrih/contact" class="font-primary font-medium text-base-content hover:text-primary hover:bg-primary/5"> Contact </a> </li> </ul> </div> <!-- CTA Button --> <div class="navbar-end"> <a href="/baberrih/book" class="font-primary btn btn-primary">
Book Now
</a> </div> </div> <!-- No custom CSS needed - DaisyUI handles all styling automatically --> <!-- DaisyUI dropdown handles mobile menu automatically - no custom JavaScript needed --> <!-- Main Content --> <main class="main-content" data-astro-cid-sckkx6r4 style="--fontPrimary: &#34;Cormorant Garamond&#34;, sans-serif;--fontSecondary: &#34;Cardo&#34;, serif;--fontMono: &#34;IBM Plex Mono&#34;, monospace;--fontDetail: &#34;Spectral&#34;, serif;--fontPrimaryWeight: 300;--fontSecondaryWeight: 400;--fontMonoWeight: 400;--fontDetailWeight: 400;">  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="ZCgLOY" component-url="/_astro/DetailPageLayout.C7NF3knj.js" ssr client="load" opts="{&quot;name&quot;:&quot;DetailPageLayout&quot;,&quot;value&quot;:true}" await-children><!--cq--><div style="display: contents" q-astro-marker="first" q:container="paused" q:version="1.14.1" q:render="ssr" q:base="/build/" q:manifest-hash="ymsgpi" q:instance="jvqgede19ce" class="qc📦"><link rel="modulepreload" href="/build/q--XaTlH3S.js"><link rel="preload" href="/build/q-bundle-graph-ymsgpi.json" as="fetch" crossorigin="anonymous"><script type="module" async>let b=fetch("/build/q-bundle-graph-ymsgpi.json");import("/build/q--XaTlH3S.js").then(({l})=>l("/build/",b));</script><link rel="modulepreload" href="/build/q-DUXynxx3.js"><!--qv q:id=0 q:key=oF5D:DC_1--><div class="min-h-screen" q:key="W0_30"><nav class="bg-base-200/50 px-4 py-3"><div class="mx-auto max-w-7xl"><div class="flex items-center space-x-2 text-sm"><div class="flex items-center" q:key="Baberrih Hotel-0"><a href="/baberrih" class="text-primary hover:text-primary-focus transition-colors" q:key="W0_22">Baberrih Hotel</a></div><div class="flex items-center" q:key="Activities-1"><span class="mx-2 text-base-content/50" q:key="W0_21">/</span><a href="/baberrih#activities" class="text-primary hover:text-primary-focus transition-colors" q:key="W0_22">Activities</a></div><div class="flex items-center" q:key="Quads-2"><span class="mx-2 text-base-content/50" q:key="W0_21">/</span><span class="text-base-content/70">Quads</span></div></div></div></nav><section class="relative h-96 overflow-hidden"><img src="https://hotels.daotomata.io/assets/8a554c3e-f2cc-498f-82e8-a1f1659531f6?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&amp;width=1200&amp;height=675&amp;quality=95" alt="Quads" class="absolute inset-0 w-full h-full object-cover" q:id="1"><div class="absolute inset-0 bg-neutral/40"></div><div class="z-10 relative flex items-end h-full"><div class="mx-auto px-4 pb-12 w-full max-w-7xl"><h1 class="mb-4 font-primary font-bold text-neutral-content text-5xl"><!--t=2-->Quads<!----></h1></div></div></section><section class="px-4 py-12"><div class="mx-auto max-w-7xl"><div class="gap-12 grid grid-cols-1 lg:grid-cols-3"><div class="space-y-8 lg:col-span-2"><div><h2 class="mb-6 font-primary font-bold text-3xl">About This Activity</h2><div class="font-secondary text-base-content/80 text-lg leading-relaxed"><!--t=3-->Explore the dunes and landscapes around Essaouira on powerful quad bikes. An exciting adventure through varied terrain, perfect for thrill-seekers looking to discover the region&#39;s natural beauty.<!----></div></div><div q:key="W0_27"><h3 class="mb-6 font-primary font-bold text-2xl">Gallery</h3><div class="relative bg-base-200 mb-4 rounded-lg w-full aspect-[16/10] overflow-hidden"><div class="absolute inset-0 w-full h-full block" q:key="slide-2a2642ff-7f3c-4cb3-a308-0a1d917637ae-0"><video src="https://hotels.daotomata.io/assets/2a2642ff-7f3c-4cb3-a308-0a1d917637ae?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3" controls preload="metadata" class="w-full h-full object-cover" q:key="W0_23"><track kind="captions" src="" label="No captions available" default></video></div><div class="absolute inset-0 w-full h-full hidden" q:key="slide-fb2ed87a-bee6-4452-b1d4-9b64bf94d4a6-1"><video src="https://hotels.daotomata.io/assets/fb2ed87a-bee6-4452-b1d4-9b64bf94d4a6?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3" controls preload="metadata" class="w-full h-full object-cover" q:key="W0_23"><track kind="captions" src="" label="No captions available" default></video></div><div class="absolute inset-0 w-full h-full hidden" q:key="slide-0414c676-b3b0-4035-b90a-f8fe6dd6c180-2"><video src="https://hotels.daotomata.io/assets/0414c676-b3b0-4035-b90a-f8fe6dd6c180?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3" controls preload="metadata" class="w-full h-full object-cover" q:key="W0_23"><track kind="captions" src="" label="No captions available" default></video></div><div class="absolute inset-0 w-full h-full hidden" q:key="slide-beb42282-96a0-46ec-b6e0-c1ce5fa31545-3"><img src="https://hotels.daotomata.io/assets/beb42282-96a0-46ec-b6e0-c1ce5fa31545?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&amp;width=800&amp;height=600&amp;quality=90" alt="4" class="w-full h-full object-cover"></div><div class="absolute inset-0 w-full h-full hidden" q:key="slide-5fc44bb1-cb9f-4bf0-87e2-4488a19c7fb9-4"><img src="https://hotels.daotomata.io/assets/5fc44bb1-cb9f-4bf0-87e2-4488a19c7fb9?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&amp;width=800&amp;height=600&amp;quality=90" alt="5" class="w-full h-full object-cover"></div><div class="absolute inset-0 w-full h-full hidden" q:key="slide-cba18126-3307-4c06-b23f-ec01e4fd8334-5"><img src="https://hotels.daotomata.io/assets/cba18126-3307-4c06-b23f-ec01e4fd8334?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&amp;width=800&amp;height=600&amp;quality=90" alt="2" class="w-full h-full object-cover"></div><div class="absolute inset-0 w-full h-full hidden" q:key="slide-bc776914-843f-4733-8b98-78ef3e02db2c-6"><img src="https://hotels.daotomata.io/assets/bc776914-843f-4733-8b98-78ef3e02db2c?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&amp;width=800&amp;height=600&amp;quality=90" alt="3" class="w-full h-full object-cover"></div><div class="absolute inset-0 w-full h-full hidden" q:key="slide-8a554c3e-f2cc-498f-82e8-a1f1659531f6-7"><img src="https://hotels.daotomata.io/assets/8a554c3e-f2cc-498f-82e8-a1f1659531f6?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&amp;width=800&amp;height=600&amp;quality=90" alt="1" class="w-full h-full object-cover"></div><div class="top-1/2 right-5 left-5 absolute flex justify-between -translate-y-1/2 transform" q:key="W0_24"><button type="button" class="bg-neutral/50 hover:bg-neutral/70 border-none text-neutral-content btn btn-circle btn-sm" on:click="q-Cwb_lt3N.js#s_pWaLejFTkMg[0 1]" q:id="4">❮</button><button type="button" class="bg-neutral/50 hover:bg-neutral/70 border-none text-neutral-content btn btn-circle btn-sm" on:click="q-Cwb_lt3N.js#s_A4PmyX6KEco[0 1]" q:id="5">❯</button></div><div class="top-4 right-4 absolute bg-neutral/70 px-3 py-1 rounded text-neutral-content text-sm"><!--t=6-->1<!----> / <!--t=7-->8<!----></div></div><div class="flex gap-2 pb-2 overflow-x-auto"><button type="button" class="relative flex-shrink-0 bg-base-200 border-2 w-20 h-16 overflow-hidden transition-colors border-primary" on:click="q-Cwb_lt3N.js#s_mDC2CwD0AF0[0 1]" q:key="thumb-2a2642ff-7f3c-4cb3-a308-0a1d917637ae-0" q:id="8"><video src="https://hotels.daotomata.io/assets/2a2642ff-7f3c-4cb3-a308-0a1d917637ae?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3" muted preload="metadata" class="w-full h-full object-cover" q:key="W0_25"></video><div class="absolute inset-0 flex justify-center items-center bg-neutral/30" q:key="W0_26"><svg fill="currentColor" viewBox="0 0 20 20" class="w-4 h-4 text-neutral-content"><title>Play video icon</title><path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"></path></svg></div></button><button type="button" class="relative flex-shrink-0 bg-base-200 border-2 w-20 h-16 overflow-hidden transition-colors border-transparent hover:border-primary" on:click="q-Cwb_lt3N.js#s_mDC2CwD0AF0[0 1]" q:key="thumb-fb2ed87a-bee6-4452-b1d4-9b64bf94d4a6-1" q:id="9"><video src="https://hotels.daotomata.io/assets/fb2ed87a-bee6-4452-b1d4-9b64bf94d4a6?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3" muted preload="metadata" class="w-full h-full object-cover" q:key="W0_25"></video><div class="absolute inset-0 flex justify-center items-center bg-neutral/30" q:key="W0_26"><svg fill="currentColor" viewBox="0 0 20 20" class="w-4 h-4 text-neutral-content"><title>Play video icon</title><path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"></path></svg></div></button><button type="button" class="relative flex-shrink-0 bg-base-200 border-2 w-20 h-16 overflow-hidden transition-colors border-transparent hover:border-primary" on:click="q-Cwb_lt3N.js#s_mDC2CwD0AF0[0 1]" q:key="thumb-0414c676-b3b0-4035-b90a-f8fe6dd6c180-2" q:id="a"><video src="https://hotels.daotomata.io/assets/0414c676-b3b0-4035-b90a-f8fe6dd6c180?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3" muted preload="metadata" class="w-full h-full object-cover" q:key="W0_25"></video><div class="absolute inset-0 flex justify-center items-center bg-neutral/30" q:key="W0_26"><svg fill="currentColor" viewBox="0 0 20 20" class="w-4 h-4 text-neutral-content"><title>Play video icon</title><path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"></path></svg></div></button><button type="button" class="relative flex-shrink-0 bg-base-200 border-2 w-20 h-16 overflow-hidden transition-colors border-transparent hover:border-primary" on:click="q-Cwb_lt3N.js#s_mDC2CwD0AF0[0 1]" q:key="thumb-beb42282-96a0-46ec-b6e0-c1ce5fa31545-3" q:id="b"><img src="https://hotels.daotomata.io/assets/beb42282-96a0-46ec-b6e0-c1ce5fa31545?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&amp;width=800&amp;height=600&amp;quality=90" alt="4" class="w-full h-full object-cover"></button><button type="button" class="relative flex-shrink-0 bg-base-200 border-2 w-20 h-16 overflow-hidden transition-colors border-transparent hover:border-primary" on:click="q-Cwb_lt3N.js#s_mDC2CwD0AF0[0 1]" q:key="thumb-5fc44bb1-cb9f-4bf0-87e2-4488a19c7fb9-4" q:id="c"><img src="https://hotels.daotomata.io/assets/5fc44bb1-cb9f-4bf0-87e2-4488a19c7fb9?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&amp;width=800&amp;height=600&amp;quality=90" alt="5" class="w-full h-full object-cover"></button><button type="button" class="relative flex-shrink-0 bg-base-200 border-2 w-20 h-16 overflow-hidden transition-colors border-transparent hover:border-primary" on:click="q-Cwb_lt3N.js#s_mDC2CwD0AF0[0 1]" q:key="thumb-cba18126-3307-4c06-b23f-ec01e4fd8334-5" q:id="d"><img src="https://hotels.daotomata.io/assets/cba18126-3307-4c06-b23f-ec01e4fd8334?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&amp;width=800&amp;height=600&amp;quality=90" alt="2" class="w-full h-full object-cover"></button><button type="button" class="relative flex-shrink-0 bg-base-200 border-2 w-20 h-16 overflow-hidden transition-colors border-transparent hover:border-primary" on:click="q-Cwb_lt3N.js#s_mDC2CwD0AF0[0 1]" q:key="thumb-bc776914-843f-4733-8b98-78ef3e02db2c-6" q:id="e"><img src="https://hotels.daotomata.io/assets/bc776914-843f-4733-8b98-78ef3e02db2c?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&amp;width=800&amp;height=600&amp;quality=90" alt="3" class="w-full h-full object-cover"></button><button type="button" class="relative flex-shrink-0 bg-base-200 border-2 w-20 h-16 overflow-hidden transition-colors border-transparent hover:border-primary" on:click="q-Cwb_lt3N.js#s_mDC2CwD0AF0[0 1]" q:key="thumb-8a554c3e-f2cc-498f-82e8-a1f1659531f6-7" q:id="f"><img src="https://hotels.daotomata.io/assets/8a554c3e-f2cc-498f-82e8-a1f1659531f6?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&amp;width=800&amp;height=600&amp;quality=90" alt="1" class="w-full h-full object-cover"></button></div></div></div><div class="space-y-8"><div class="space-y-6"><div class="gap-4 grid grid-cols-2"><div class="bg-base-200 p-4 border border-base-300 rounded-lg"><div class="mb-1 text-xs text-base-content/50 uppercase tracking-wide">Duration</div><div class="font-semibold text-primary"><!--t=g-->Varies<!----></div></div><div class="bg-base-200 p-4 border border-base-300 rounded-lg"><div class="mb-1 text-xs text-base-content/50 uppercase tracking-wide">Difficulty</div><div class="font-semibold text-primary"><!--t=h-->All levels<!----></div></div></div><div class="bg-base-200 p-4 border border-base-300 rounded-lg" q:key="W0_8"><div class="mb-1 text-xs text-base-content/50 uppercase tracking-wide">Max Participants</div><div class="font-semibold text-primary"><!--t=i-->6<!----> people</div></div><div q:key="W0_11"><h3 class="mb-3 font-semibold text-lg">Equipment Provided</h3><div class="text-sm text-base-content/80"><!--t=j-->HelmetGogglesSafety GearQuad Bike<!----></div></div><div class="bg-warning/10 p-4 border border-warning/20 rounded-lg" q:key="W0_12"><div class="font-semibold text-warning">Age Restriction</div><div class="mt-1 text-warning/80 text-sm"><!--t=k-->16<!----></div></div></div><div class="space-y-4"><button type="button" class="w-full btn btn-primary btn-lg" on:click="q-Cwb_lt3N.js#s_Cz0tGrp9j8Q[0]" q:id="l"><!--t=m-->Reserve Activity<!----></button><button type="button" class="btn-outline w-full btn">Contact Reception</button></div></div></div></div></section></div><q:template q:slot hidden aria-hidden="true"></q:template><!--/qv--><script type="module" q:type="preload" async>["q-Cwb_lt3N.js"].map((l,e)=>{e=document.createElement('link');e.rel='modulepreload';e.href="/build/"+l;document.head.appendChild(e)});window.addEventListener('load',f=>{f=_=>import("/build/q--XaTlH3S.js").then(({p})=>p(["pWaLejFTkMg","A4PmyX6KEco","LuhpXLe2UMM","mDC2CwD0AF0","Cz0tGrp9j8Q","oF5D06t29Rg"]));try{requestIdleCallback(f,{timeout:2000})}catch(e){setTimeout(f,200)}})</script><script type="qwik/json">{"refs":{"4":"0 1!","5":"0 1!","8":"1o 3","9":"1o 1p","a":"1o 1q","b":"1o 1r","c":"1o 1s","d":"1o 1t","e":"1o 16","f":"1o 1u","l":"2"},"ctx":{"0":{"h":"27 1!","s":"0 2"}},"objs":["\u00123",{"title":"6","description":"7","type":"8","imageUrl":"9","videoUrl":"a","galleryImages":"15","metadata":"1d","hotelName":"1e","hotelSlug":"1f","defaultCurrency":"1g","breadcrumbItems":"1n"},"\u00121v",0,"\u00110 @0","#6","Quads","Explore the dunes and landscapes around Essaouira on powerful quad bikes. An exciting adventure through varied terrain, perfect for thrill-seekers looking to discover the region's natural beauty.","activity","https://hotels.daotomata.io/assets/8a554c3e-f2cc-498f-82e8-a1f1659531f6?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&width=1200&height=675&quality=95","https://hotels.daotomata.io/assets/fb2ed87a-bee6-4452-b1d4-9b64bf94d4a6?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3","2a2642ff-7f3c-4cb3-a308-0a1d917637ae","https://hotels.daotomata.io/assets/2a2642ff-7f3c-4cb3-a308-0a1d917637ae?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3","2","video",{"id":"b","url":"c","title":"d","type":"e"},"fb2ed87a-bee6-4452-b1d4-9b64bf94d4a6","1",{"id":"g","url":"a","title":"h","type":"e"},"0414c676-b3b0-4035-b90a-f8fe6dd6c180","https://hotels.daotomata.io/assets/0414c676-b3b0-4035-b90a-f8fe6dd6c180?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3","3",{"id":"j","url":"k","title":"l","type":"e"},"beb42282-96a0-46ec-b6e0-c1ce5fa31545","https://hotels.daotomata.io/assets/beb42282-96a0-46ec-b6e0-c1ce5fa31545?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&width=800&height=600&quality=90","4","image",{"id":"n","url":"o","title":"p","type":"q"},"5fc44bb1-cb9f-4bf0-87e2-4488a19c7fb9","https://hotels.daotomata.io/assets/5fc44bb1-cb9f-4bf0-87e2-4488a19c7fb9?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&width=800&height=600&quality=90","5",{"id":"s","url":"t","title":"u","type":"q"},"cba18126-3307-4c06-b23f-ec01e4fd8334","https://hotels.daotomata.io/assets/cba18126-3307-4c06-b23f-ec01e4fd8334?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&width=800&height=600&quality=90",{"id":"w","url":"x","title":"d","type":"q"},"bc776914-843f-4733-8b98-78ef3e02db2c","https://hotels.daotomata.io/assets/bc776914-843f-4733-8b98-78ef3e02db2c?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&width=800&height=600&quality=90",{"id":"z","url":"10","title":"l","type":"q"},"8a554c3e-f2cc-498f-82e8-a1f1659531f6","https://hotels.daotomata.io/assets/8a554c3e-f2cc-498f-82e8-a1f1659531f6?access_token=rYncRSsu41KQQLvZYczPJyC8-8yzyED3&width=800&height=600&quality=90",{"id":"12","url":"13","title":"h","type":"q"},["f","i","m","r","v","y","11","14"],6,16,"Helmet","Goggles","Safety Gear","Quad Bike",["18","19","1a","1b"],{"category":"28","durationMinutes":"28","maxParticipants":"16","price":"28","location":"28","difficultyLevel":"28","ageRestriction":"17","equipmentProvided":"1c","bookingRequired":"28"},"Baberrih Hotel","baberrih","USD","/baberrih",{"label":"1e","href":"1h"},"Activities","/baberrih#activities",{"label":"1j","href":"1k"},{"label":"6"},["1i","1l","1m"],"\u0002q-Cwb_lt3N.js#s_LuhpXLe2UMM[0]",1,2,3,4,5,7,false,"\u00111! @1","\u00111! @2","\u00111! @2","\u00111! @3","\u00111! @4","\u00111! @5","\u00111! @6","\u00111! @7","\u00111! @8","\u00111! @9","\u00111! @a","\u0002q-Cwb_lt3N.js#s_oF5D06t29Rg","\u0001"],"subs":[["0 #0","3 #6 4 #6"],["0 #0 breadcrumbItems","0 #0 type","0 #0 galleryImages","0 #0 metadata","1 #1 1w #0 src imageUrl","1 #1 1x #0 alt title","3 #2 1y #2 title","3 #3 1z #3 description","3 #7 20 #7 galleryImages","3 #g 21 #g metadata","3 #h 22 #h metadata","3 #i 23 #i metadata","3 #j 24 #j metadata","3 #k 25 #k metadata","3 #m 26 #m type","3 #m 26 #m type"],["0 #0"]]}</script><script q:func="qwik/json">document["qFuncs_jvqgede19ce"]=[(p0,)=>(p0.value+1),
(p0,)=>(p0.imageUrl),
(p0,)=>(p0.title),
(p0,)=>(p0.description),
(p0,)=>((p0.galleryImages??[]).length),
(p0,)=>(p0.metadata.durationMinutes?`${p0.metadata.durationMinutes} min`:"Varies"),
(p0,)=>(p0.metadata.difficultyLevel||"All levels"),
(p0,)=>(p0.metadata.maxParticipants),
(p0,)=>(p0.metadata.equipmentProvided),
(p0,)=>(p0.metadata.ageRestriction),
(p0,)=>(p0.type==="room"?"Check Availability":p0.type==="activity"?"Reserve Activity":"Book Facility")]</script><script id="qwikloader">(()=>{const t=document,e=window,n=new Set,o=new Set([t]);let r;const s=(t,e)=>Array.from(t.querySelectorAll(e)),a=t=>{const e=[];return o.forEach((n=>e.push(...s(n,t)))),e},i=t=>{w(t),s(t,"[q\\:shadowroot]").forEach((t=>{const e=t.shadowRoot;e&&i(e)}))},c=t=>t&&"function"==typeof t.then,l=(t,e,n=e.type)=>{a("[on"+t+"\\:"+n+"]").forEach((o=>b(o,t,e,n)))},f=e=>{if(void 0===e._qwikjson_){let n=(e===t.documentElement?t.body:e).lastElementChild;for(;n;){if("SCRIPT"===n.tagName&&"qwik/json"===n.getAttribute("type")){e._qwikjson_=JSON.parse(n.textContent.replace(/\\x3C(\/?script)/gi,"<$1"));break}n=n.previousElementSibling}}},p=(t,e)=>new CustomEvent(t,{detail:e}),b=async(e,n,o,r=o.type)=>{const s="on"+n+":"+r;e.hasAttribute("preventdefault:"+r)&&o.preventDefault(),e.hasAttribute("stoppropagation:"+r)&&o.stopPropagation();const a=e._qc_,i=a&&a.li.filter((t=>t[0]===s));if(i&&i.length>0){for(const t of i){const n=t[1].getFn([e,o],(()=>e.isConnected))(o,e),r=o.cancelBubble;c(n)&&await n,r&&o.stopPropagation()}return}const l=e.getAttribute(s);if(l){const n=e.closest("[q\\:container]"),r=n.getAttribute("q:base"),s=n.getAttribute("q:version")||"unknown",a=n.getAttribute("q:manifest-hash")||"dev",i=new URL(r,t.baseURI);for(const p of l.split("\n")){const l=new URL(p,i),b=l.href,h=l.hash.replace(/^#?([^?[|]*).*$/,"$1")||"default",q=performance.now();let _,d,y;const w=p.startsWith("#"),g={qBase:r,qManifest:a,qVersion:s,href:b,symbol:h,element:e,reqTime:q};if(w){const e=n.getAttribute("q:instance");_=(t["qFuncs_"+e]||[])[Number.parseInt(h)],_||(d="sync",y=Error("sym:"+h))}else{u("qsymbol",g);const t=l.href.split("#")[0];try{const e=import(t);f(n),_=(await e)[h],_||(d="no-symbol",y=Error(`${h} not in ${t}`))}catch(t){d||(d="async"),y=t}}if(!_){u("qerror",{importError:d,error:y,...g}),console.error(y);break}const m=t.__q_context__;if(e.isConnected)try{t.__q_context__=[e,o,l];const n=_(o,e);c(n)&&await n}catch(t){u("qerror",{error:t,...g})}finally{t.__q_context__=m}}}},u=(e,n)=>{t.dispatchEvent(p(e,n))},h=t=>t.replace(/([A-Z])/g,(t=>"-"+t.toLowerCase())),q=async t=>{let e=h(t.type),n=t.target;for(l("-document",t,e);n&&n.getAttribute;){const o=b(n,"",t,e);let r=t.cancelBubble;c(o)&&await o,r=r||t.cancelBubble||n.hasAttribute("stoppropagation:"+t.type),n=t.bubbles&&!0!==r?n.parentElement:null}},_=t=>{l("-window",t,h(t.type))},d=()=>{var s;const c=t.readyState;if(!r&&("interactive"==c||"complete"==c)&&(o.forEach(i),r=1,u("qinit"),(null!=(s=e.requestIdleCallback)?s:e.setTimeout).bind(e)((()=>u("qidle"))),n.has("qvisible"))){const t=a("[on\\:qvisible]"),e=new IntersectionObserver((t=>{for(const n of t)n.isIntersecting&&(e.unobserve(n.target),b(n.target,"",p("qvisible",n)))}));t.forEach((t=>e.observe(t)))}},y=(t,e,n,o=!1)=>t.addEventListener(e,n,{capture:o,passive:!1}),w=(...t)=>{for(const r of t)"string"==typeof r?n.has(r)||(o.forEach((t=>y(t,r,q,!0))),y(e,r,_,!0),n.add(r)):o.has(r)||(n.forEach((t=>y(r,t,q,!0))),o.add(r))};if(!("__q_context__"in t)){t.__q_context__=0;const r=e.qwikevents;Array.isArray(r)&&w(...r),e.qwikevents={events:n,roots:o,push:w},y(t,"readystatechange",d),d()}})()</script><script>window.qwikevents.push("click")</script></div><!--/cq--><!--astro:end--></astro-island>  </main> <!-- Footer --> <astro-island uid="ZdYkXL" component-url="/_astro/Footer.Cut-QyIt.js" ssr client="load" opts="{&quot;name&quot;:&quot;Footer&quot;,&quot;value&quot;:true}" await-children><!--cq--><div style="display: contents" q:container="paused" q:version="1.14.1" q:render="ssr" q:base="/build/" q:manifest-hash="ymsgpi" q:instance="3yliwg20ziu" class="qc📦"><link rel="modulepreload" href="/build/q--XaTlH3S.js"><link rel="preload" href="/build/q-bundle-graph-ymsgpi.json" as="fetch" crossorigin="anonymous"><script type="module" async>let b=fetch("/build/q-bundle-graph-ymsgpi.json");import("/build/q--XaTlH3S.js").then(({l})=>l("/build/",b));</script><link rel="modulepreload" href="/build/q-DUXynxx3.js"><!--qv q:id=0 q:key=0vKL:DC_1--><footer class="bg-base-200 px-4 py-12 border-t border-base-300" q:key="xw_4"><div class="mx-auto max-w-7xl container"><div class="gap-8 grid grid-cols-1 md:grid-cols-4"><div class="md:col-span-2"><h3 class="mb-4 font-primary font-bold text-primary text-xl"><!--t=1-->Hotel<!----></h3><p class="mb-4 text-base-content/80 leading-relaxed">Experience luxury and comfort at <!--t=2-->Hotel<!---->. We provide exceptional hospitality with modern amenities and thoughtful service.</p><div class="flex space-x-4" q:key="xw_1"><a href="www.instagram.com/baberrihotelessaouira/" title="Follow us on instagram" target="_blank" rel="noopener noreferrer" class="hover:text-primary text-base-content/60 transition-colors" q:key="1"><svg fill="currentColor" viewBox="0 0 24 24" role="img" aria-label="Instagram" class="w-5 h-5" q:key="xw_0"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg></a><a href="https://www.facebook.com/baberrihotel/" title="Follow us on facebook" target="_blank" rel="noopener noreferrer" class="hover:text-primary text-base-content/60 transition-colors" q:key="2"><svg fill="currentColor" viewBox="0 0 24 24" role="img" aria-label="Facebook" class="w-5 h-5"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></a><a href="https://www.youtube.com/@baberrihotelessaouira" title="Follow us on youtube" target="_blank" rel="noopener noreferrer" class="hover:text-primary text-base-content/60 transition-colors" q:key="3"><svg fill="currentColor" viewBox="0 0 24 24" role="img" aria-label="YouTube" class="w-5 h-5"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg></a></div></div><div><h4 class="mb-4 font-primary font-semibold text-base-content text-lg">Quick Links</h4><ul class="space-y-2"><li><a href="/baberrih" class="hover:text-primary text-base-content/70 transition-colors" q:id="3">Home</a></li><li><a href="/baberrih/accommodation" class="hover:text-primary text-base-content/70 transition-colors" q:id="4">Accommodation</a></li><li><a href="/baberrih/facilities" class="hover:text-primary text-base-content/70 transition-colors" q:id="5">Facilities</a></li><li><a href="/baberrih/experiences" class="hover:text-primary text-base-content/70 transition-colors" q:id="6">Experiences</a></li><li><a href="/baberrih/restaurant" class="hover:text-primary text-base-content/70 transition-colors" q:id="7">Restaurant</a></li><li><a href="/baberrih/contact" class="hover:text-primary text-base-content/70 transition-colors" q:id="8">Contact</a></li><li><a href="/baberrih/book" class="hover:text-primary text-base-content/70 transition-colors" q:id="9">Book Now</a></li></ul></div><div><h4 class="mb-4 font-primary font-semibold text-base-content text-lg">Contact</h4><div class="space-y-3"><div class="flex items-center space-x-2"><svg fill="currentColor" viewBox="0 0 24 24" role="img" aria-label="Location" class="w-4 h-4 text-base-content/60"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></svg><span class="text-sm text-base-content/70">M8QM+R3, Oum el Aioun 44126, Essaouira.</span></div><div class="flex items-center space-x-2"><svg fill="currentColor" viewBox="0 0 24 24" role="img" aria-label="Email" class="w-4 h-4 text-base-content/60"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></svg><span class="text-sm text-base-content/70"><!--t=a-->info@baberrih.com<!----></span></div></div></div></div><div class="flex md:flex-row flex-col justify-between items-center mt-8 pt-8 border-t border-base-300"><p class="text-sm text-base-content/60">© 2025 <!--t=b-->Hotel<!---->. All rights reserved.</p><div class="flex space-x-6 mt-4 md:mt-0"><a href="/privacy" class="hover:text-primary text-sm text-base-content/60 transition-colors">Privacy Policy</a><a href="/terms" class="hover:text-primary text-sm text-base-content/60 transition-colors">Terms of Service</a><a href="/cookies" class="hover:text-primary text-sm text-base-content/60 transition-colors">Cookie Policy</a></div></div></div></footer><q:template q:slot hidden aria-hidden="true"></q:template><!--/qv--><script type="qwik/json">{"refs":{},"ctx":{},"objs":[],"subs":[]}</script></div><!--/cq--><!--astro:end--></astro-island> <!-- Auto-inject Chatwoot Widget with automatic domain detection --> <script>(function(){const websiteToken = "c1tUUkn7q77JMA7RSGBJGTof";
const hotelName = "Baberrih Hotel";

    console.log('🔧 CHATWOOT SCRIPT STARTING - Token:', websiteToken.substring(0, 8) + '...', 'Hotel:', hotelName);

    // Store configuration globally for debugging
    window.chatwootConfig = {
      websiteToken,
      hotelName,
      baseUrl: "https://chat.daotomata.io"
    };

    console.log('🔧 CHATWOOT CONFIG STORED:', window.chatwootConfig);

    // Chatwoot Settings - Official Configuration
    window.chatwootSettings = {
      hideMessageBubble: false,
      position: 'right',
      locale: 'es', // Spanish for hotels
      type: 'standard',
      darkMode: 'auto',
      launcherTitle: 'Chat con ' + hotelName
    };

    console.log('🔧 CHATWOOT SETTINGS CONFIGURED:', window.chatwootSettings);

    // Official Chatwoot SDK Integration
    (function(d,t) {
      const BASE_URL = window.chatwootConfig.baseUrl;
      const g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=BASE_URL+"/packs/js/sdk.js";
      g.defer=true;
      g.async=true;

      console.log('🔧 Loading Chatwoot SDK from:', g.src);

      g.onerror = function() {
        console.error('❌ Failed to load Chatwoot SDK from:', g.src);
      };

      s.parentNode.insertBefore(g,s);
      g.onload=function(){
        console.log('🔧 Initializing Chatwoot with token:', websiteToken.substring(0, 8) + '...');
        console.log('🔧 Base URL:', BASE_URL);
        console.log('🔧 Hotel:', hotelName);

        try {
          window.chatwootSDK.run({
            websiteToken: websiteToken,
            baseUrl: BASE_URL,
            // Force ActionCable configuration for real-time messages
            enabledFeatures: ['emoji_picker', 'attachments', 'end_conversation'],
            // Ensure WebSocket connection for real-time updates
            websocketUrl: 'wss://chat.daotomata.io/cable',
            // Auto-open widget when messages arrive
            autoOpenOnNewMessage: true,
            // Show unread message count
            showUnreadCount: true
          });
          console.log('✅ Chatwoot SDK initialized successfully');
        } catch (error) {
          console.error('❌ Error initializing Chatwoot SDK:', error);
        }

        // Store SDK reference globally for debugging
        window.chatwootSDKInstance = window.chatwootSDK;

        // Listen for Chatwoot ready event
        window.addEventListener('chatwoot:ready', function () {
          console.log('✅ Chatwoot ready event fired for:', hotelName);
          console.log('✅ Chatwoot widget should now be visible');

          // Check if widget is actually visible
          setTimeout(function() {
            const widget = document.querySelector('#chatwoot_live_chat_widget');
            if (widget) {
              console.log('✅ Chatwoot widget element found in DOM');
              console.log('Widget styles:', window.getComputedStyle(widget));
            } else {
              console.warn('⚠️ Chatwoot widget element not found in DOM');
            }
          }, 1000);

          // Setup real-time UI refresh for incoming messages
          setupRealTimeUIRefresh();
        });

        // Listen for new message events
        window.addEventListener('chatwoot:on-message', function (e) {
          console.log('📨 New message event received:', e);
          // Force widget to open on new message
          setTimeout(function() {
            if (window.$chatwoot && window.$chatwoot.toggle) {
              window.$chatwoot.toggle('open');
              console.log('🔄 Widget auto-opened on new message');
            }
          }, 100);
        });

        // Listen for unread count changes
        window.addEventListener('chatwoot:on-unread-message-count-changed', function (e) {
          console.log('📊 Unread count changed:', e);
          if (e.detail && e.detail.unreadCount > 0) {
            // Force widget to open when there are unread messages
            setTimeout(function() {
              if (window.$chatwoot && window.$chatwoot.toggle) {
                window.$chatwoot.toggle('open');
                console.log('🔄 Widget auto-opened due to unread messages');
              }
            }, 100);
          }
        });

        // Listen for errors
        window.addEventListener('chatwoot:error', function (e) {
          console.error('❌ Chatwoot error:', e);
        });

        // Function to setup real-time UI refresh
        function setupRealTimeUIRefresh() {
          console.log('🔄 Setting up real-time UI refresh...');

          // Intercept WebSocket messages for real-time updates
          const originalWebSocket = window.WebSocket;
          window.WebSocket = function(url, protocols) {
            const ws = new originalWebSocket(url, protocols);

            if (url.includes('/cable')) {
              console.log('🔗 Intercepted Chatwoot WebSocket connection');

              ws.addEventListener('message', function(event) {
                try {
                  const data = JSON.parse(event.data);
                  if (data.message && data.message.event) {
                    console.log('📨 WebSocket message received:', data.message.event);

                    // Force widget refresh on message events
                    if (data.message.event === 'message.created' ||
                        data.message.event === 'message.updated' ||
                        data.message.event === 'conversation.updated') {

                      setTimeout(function() {
                        // Use correct Chatwoot API - $chatwoot is the main API
                        if (window.$chatwoot && window.$chatwoot.toggle) {
                          window.$chatwoot.toggle('open');
                          console.log('🔄 Widget opened after:', data.message.event);
                        }
                      }, 200);
                    }
                  }
                } catch {
                  // Ignore parsing errors for non-JSON messages
                }
              });
            }

            return ws;
          };

          // Also listen for postMessage events from the widget iframe
          window.addEventListener('message', function(event) {
            if (event.origin === 'https://chat.daotomata.io' && event.data) {
              if (event.data.type === 'chatwoot-widget' ||
                  event.data.event === 'message' ||
                  event.data.event === 'conversation-update') {

                console.log('📨 Widget iframe message:', event.data);

                // Force widget to open after iframe message
                setTimeout(function() {
                  if (window.$chatwoot && window.$chatwoot.toggle) {
                    window.$chatwoot.toggle('open');
                    console.log('🔄 Widget opened after iframe message');
                  }
                }, 100);
              }
            }
          });
        }

      }
    })(document,"script");
  })();</script> </body></html>